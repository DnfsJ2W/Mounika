


@{
    ViewData["Title"] = "AddStudent";
}

<h1>AddStudent</h1>

<form id="form1">
    <p>
        <label for="Id">ID:</label>
        <input type="text" id="Id" class="form-control" name="Id" />
    </p>

    <p>
        <label for="Name">Name:</label>
        <input type="text" id="Name" class="form-control" name="Name" />
    </p>

    <p>
        <label for="Location">Location:</label>
        <input type="text" id="Location" class="form-control" name="Marks" />
    </p>


    <p>
        <input type="button" id="button1" value="Insert" class="btn btn-success" />
        <span id="ResponseSpan"></span>
    </p>

</form>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

@*<script src="~/js/site.js"></script>*@
<!-- jquery code -->
<script type="text/javascript">
    $(function () {

        $("#button1").click(function () {

            var person = { id: $('#Id').val(), name: $('#Name').val(), location: $('#Location').val() };



            //ajax code
            $.ajax({
                url: 'https://localhost:44386/api/People',
                data: JSON.stringify(person),
                type: "post",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                success: function (response) {
                    $("#ResponseSpan").html(response);
                    alert("Record Inserted Successfully");
                    $("#Id,#Name,#Location").val('');
                },
                error: function (jqXHR, textStatus, err) {
                    $("#ResponseSpan").html(err);
                }
            });

        });

    });
</script>






